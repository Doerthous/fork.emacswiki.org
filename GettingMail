This page describes how to retrieve and read email from within Emacs.

Also see [[WritingMail]] and [[SendingMail]].

== Getting mail ==

Note: Some clients //delete// your mail from the server after downloading it. If you want to keep your mail on the server, you must tell your client to //preserve// it.

=== Rmail ===

Here's an example of an [[Rmail]] configuration:

{{{
(setq
  rmail-primary-inbox-list '("pop://me%40example.com@mail.example.com")
  rmail-preserve-inbox t
  user-full-name "Funky Turtle"
  user-mail-address "me@example.com")
}}}

* Rmail runs on its own, but it's recommended to install the `mailutils' pacakge on your computer.
* `rmail-primary-inbox-list' uses the URL scheme: <code>protocol:// username @ hostname</code>
* The <code>%40</code> is an ANSI code representing the <code>@</code> symbol (see the note on movemail below)
* `rmail-preserve-inbox' tells rmail to copy the mail from the server (don't delete it).

=== Gnus ===

Here's an example of [[Gnus]] using the `nnml' backend with POP:

{{{
(setq gnus-secondary-select-methods '((nnml ""))
      mail-sources '((pop :server "pop3server"
                          :user "username")))
}}}

And here's [[Gnus]] using IMAP:

{{{
(setq gnus-secondary-select-methods
      '((nnimap "gmail"
                ;; It could also be imap.googlemail.com if that's your server.
                (nnimap-address "imap.gmail.com")
                (nnimap-server-port 993)
                (nnimap-stream ssl)))
      ;; Gmail system labels have the prefix [Gmail], which matches
      ;; the default value of gnus-ignored-newsgroups. That's why we
      ;; redefine it.
      gnus-ignored-newsgroups "^to\\.\\|^[0-9. ]+\\( \\|$\\)\\|^[\"]\"[#'()]")
}}}

=== MH-E ===

An example of [[MH-E]] using POP:

{{{
#: In ~/.mh_profile
Path: mail
inc: -host mail.example.com -user me@example.com
}}}

== Speending Things Up ==

Emacs freezes up during sending / receiving if Emacs does it itself, so if you are downloading large emails, you will be unable to do ''multitasking''. It may be a better idea to use another program like *mpop* to retrieve mail.

=== mpop ===

Instead of making Emacs retrieve your mail, you can run a program like `mpop' outside of Emacs to download new mail to a folder, before managing it from inside Emacs.

A typical mpop configuration looks like this:

{{{
defaults
tls  on
keep on

account  default
host     mail.example.com
port     995
user     alex@example.com
password p4ssw0rd
delivery maildir "~/mail"
}}}

##mpop## then fetches your mail and moves it into the inbox you provided, and you get it from there.

There's a perfect complement to ##mpop## for sending mail, by the same author: ##mstmtp##.

== Reading mail ==

Reading mail is just like WritingMail. There is no generic way to call
the right tool for you. Some third party package may be mua-aware and
thus should be informed of your preference. You have to set
`read-mail-command' to do so.

Here are some examples:

* Easiest and default way is [[Rmail]]: use M-x rmail to read your mail. set `read-mail-command' to 'rmail.

* [[Gnus]] users should type M-x gnus instead and set `read-mail-command' to 'gnus.

* [[MH-E]]: M-x mh-rmail and set `read-mail-command' to 'mh-rmail.

* WanderLust: set `read-mail-command' to 'wl

See also: WritingMail
----
CategoryMail
