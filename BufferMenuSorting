By default, the BufferMenu is sorted such that "buffers that were current most recently come first" (per [[Manual:List Buffers]]).  In other words, most-recently-used (MRU) ordering, where simply viewing the buffer counts as usage.

== Sorting on the fly ==

In GUIs, you can usually click the column heading to sort by that column.

You can also sort the buffer list using `tabulated-list-sort', bound to the ##S## key in the buffer menu.

By default, it sorts by the first column (column number zero).  That usually won't be useful.  Give a prefix argument to sort by that column.  For example, ##M-3 S## will sort by the fourth column, which is the buffer name.  The page BufferMenu has a list of columns and their meanings.

Older versions of Emacs may have a `buffer-menu-sort' function which does a similar thing.

Once sorted, there is no nice way to restore the default MRU sort.  You have to `kill-buffer' the buffer menu buffer, and then re-open it.  (Sorting sets the variable `tabulated-list-sort-key' in `tabulated-list.el'.  Its default is `nil'.  No way to restore the nil value is provided.)

== Default sort ==

Emacs 24 to Emacs 27.1, and likely later, do not have a built-in way to set the default sort order of the buffer menu.  Jeff Chiu crafted a solution with an [[Advice]] on `list-buffers':

https://gist.github.com/codeforkjeff/37a350d9af3a2c158eac

He talks about it a bit more in his blog:

https://codefork.com/blog/index.php/2014/09/26/buffer-menu-sorting-in-emacs-24/

== Historical ==

=== Default sort variable ===

Obsolete circa Emacs 24.  Per Jeff Chiu, this was lost when `Buffer-menu' was rewritten to use `tabulated-list'.

To permanently customize the default listing order of buffer menu, set `buffer-menu-sort-column' to the column number (with the first column being zero).  For example, to automatically sort by buffer name:

   (setq Buffer-menu-sort-column 3)

=== ibuffer directory column ===

Obsolete circa Emacs 22.

Adds a directory column to ibuffer.  Sorting by directory can be handy when working on a bunch of unrelated projects.

https://gist.github.com/offby1/1163610

=== Sorted buffer list ===

Obsolete circa Emacs 22, likely earlier.

If your buffer list becomes too disorganized, you can sort it using this function:
  
  (defun sort-buffers ()
    "Put the buffer list in alphabetical order."
    (interactive)
    (dolist (buff (buffer-list-sorted)) (bury-buffer buff))
    (when (interactive-p) (list-buffers))
    )
  
  (defun buffer-list-sorted ()
    (sort (buffer-list) 
  	(function
  	 (lambda
  	   (a b) (string<
  		  (downcase (buffer-name a))
  		  (downcase (buffer-name b))
  		  )))))

and bind it with

  (global-set-key "\M-b"    'sort-buffers)

----
CategoryBufferSwitching
